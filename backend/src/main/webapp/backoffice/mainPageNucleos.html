<!DOCTYPE html>
<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Nucleos FCT NOVA</title>
    <link rel="stylesheet" href="styleMainPage.css">
    <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body onload="loadLoggedUser()">
<button onclick="topFunction()" id="myBtn"><i class='bx bx-up-arrow-alt'></i></button>
<div class="sidebar">
    <div class="logo-details">
        <i> <img src="../img/logo.png" alt="UNIVERSE logo" width="45" height="45"> </i>
        <span class="logo_name">UniVerse</span>
    </div>
    <ul class="nav-links">
        <li>
            <button onclick="window.location.href = '/backoffice/mainPage.html'">
                <a href="#">
                    <i class='bx bx-grid-alt' ></i>
                    <span class="links_name">Home</span>
                </a>
            </button>
        </li>
        <li>
            <button onclick="window.location.href = '/backoffice/mainPageNews.html'">
                <a href="#news">
                    <i class='bx bx-message'></i>
                    <span class="links_name">Notícias</span>
                </a>
            </button>
        </li>
        <li>
            <button onclick="window.location.href = '/backoffice/mainPageEvents.html'">
                <a href="#events">
                    <i class='bx bx-list-ul' ></i>
                    <span class="links_name">Eventos</span>
                </a>
            </button>
        </li>
        <li>
            <button onclick="window.location.href = '/backoffice/mainPageUsers.html'">
                <a href="#users">
                    <i class='bx bx-user' ></i>
                    <span class="links_name">Users</span>
                </a>
            </button>
        </li>
        <li>
            <button onclick="window.location.href = '/backoffice/mainPageNucleos.html'">
                <a href="#stats" class="active">
                    <i class='bx bx-pie-chart-alt-2' ></i>
                    <span class="links_name">Núcleos</span>
                </a>
            </button>
        </li>
        <li>
            <button onclick="window.location.href = '/backoffice/mainPageReports.html'">
                <a href="#reposts">
                    <i class='bx bx-book-alt' ></i>
                    <span class="links_name">Reports</span>
                </a>
            </button>
        </li>
        <li>
            <button onclick="window.location.href = '/backoffice/mainPageDepartamentos.html'">
                <a href="#dpt">
                    <i class='bx bx-buildings' ></i>
                    <span class="links_name">Departamentos</span>
                </a>
            </button>
        </li>
        <li class="log_out">
            <button onclick="openPopup()">
                <a href="#logout">
                    <i class='bx bx-log-out'></i>
                    <span class="links_name">Log out</span>
                </a>
            </button>
        </li>
    </ul>
</div>
<section class="home-section">
    <nav>
        <div class="sidebar-button">
            <i class='bx bx-menu sidebarBtn'></i>
            <span class="home">Núcleos</span>
        </div>
        <h1> Back Office da FCT NOVA</h1>
        <div class="profile-details" id="auxLogged">
            <img src="img/profile.jpg" alt="">
            <span class="admin_name" id="name"></span>
        </div>
    </nav>

    <div class="home-content">
        <div class="topnav" id="myTopnav">
            <button id="addBtn" onClick="changeWindow('addBtn', 'modBtn', 'delBtn', 'listBtn', 'addNuc', 'modNuc', 'delNuc', 'nucList')" class="active">Criar Núcleo</button>
            <button id="modBtn" onClick="changeWindow('modBtn', 'addBtn', 'delBtn', 'listBtn', 'modNuc', 'addNuc', 'delNuc', 'nucList')">Modificar peril do Núcleo</button>
            <button id="delBtn" onClick="changeWindow('delBtn', 'addBtn', 'modBtn', 'listBtn', 'delNuc', 'modNuc', 'addNuc', 'nucList')">Apagar Núcleo</button>
            <button id="listBtn" onClick="changeWindow('listBtn', 'delBtn', 'modBtn', 'addBtn', 'nucList', 'delNuc', 'addNuc', 'modNuc')">Listar Núcleos</button>
        </div>

        <br><br>
        <div id="addNuc">
            <div class="form">
                <div class="title">Criar Núcleo</div>
                <div class="subtitle">Vamos criar um novo Núcleo!</div>
                <div class="input-container ic1">
                    <input id="idNuc" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="idNuc" class="placeholder" required>ID</label>
                </div>
                <div class="input-container ic1">
                    <input id="nameNuc" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="nameNuc" class="placeholder" required>Nome</label>
                </div>
                <div class="input-container ic1">
                    <input id="email" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="email" class="placeholder" required>Email do Núcleo</label>
                </div>
                <div class="input-container ic1">
                    <input id="pres" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="pres" class="placeholder" required>Presidente do Núcleo</label>
                </div>
                <div class="input-container ic1">
                    <input id="location" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="location" class="placeholder" required>Location do Núcleo</label>
                </div>
                <div class="input-container ic1">
                    <input id="description" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="description" class="placeholder">Descrição (Opcional)</label>
                </div>
                <div class="input-container ic1">
                    <input id="facebook" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="facebook" class="placeholder">Facebook (Opcional)</label>
                </div>
                <div class="input-container ic1">
                    <input id="instagram" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="instagram" class="placeholder">Instagram (Opcional)</label>
                </div>
                <div class="input-container ic1">
                    <input id="linkedin" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="linkedin" class="placeholder">LinkedIn (Opcional)</label>
                </div>
                <button type="text" class="submit" onclick="postNucleus()">Criar Núcleo</button>
            </div>
        </div>
        <div id="modNuc" style="display: none;">
            <div class="form">
                <div class="title">Núcleo</div>
                <div class="subtitle">Vamos obter o Núcleo a alterar!</div>
                <div class="input-container ic1">
                    <input id="nucId" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="nucId" class="placeholder">ID do Núcleo</label>
                </div>
                <button type="text" class="submit" onclick="getNucleus()">Obter Núcleo</button>
            </div>
            <br>
            <div class="form">
                <div class="input-container ic1">
                    <input id="emailMod" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="emailMod" class="placeholder">Email do Núcleo</label>
                </div>
                <div class="input-container ic1">
                    <input id="nameMod" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="nameMod" class="placeholder">Nome do Núcleo</label>
                </div>
                <div class="input-container ic1">
                    <input id="presMod" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="presMod" class="placeholder">Presidente do Núcleo</label>
                </div>
                <div class="input-container ic1">
                    <input id="locationMod" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="locationMod" class="placeholder" required>Location do Núcleo</label>
                </div>
                <div class="input-container ic1">
                    <input id="descriptionMod" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="descriptionMod" class="placeholder">Descrição</label>
                </div>
                <div class="input-container ic1">
                    <input id="facebookMod" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="facebookMod" class="placeholder">Facebook</label>
                </div>
                <div class="input-container ic1">
                    <input id="instagramMod" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="instagramMod" class="placeholder">Instagram</label>
                </div>
                <div class="input-container ic1">
                    <input id="linkedinMod" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="linkedinMod" class="placeholder">LinkedIn</label>
                </div>
                <div class="input-container ic1">
                    <input id="website" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="website" class="placeholder">Website</label>
                </div>
                <div class="input-container ic1">
                    <input id="twitter" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="twitter" class="placeholder">Twitter</label>
                </div>
                <div class="input-container ic1">
                    <input id="youtube" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="youtube" class="placeholder">Youtube</label>
                </div>
                <button type="text" class="submit" onclick="editNucleus()">Modificar Núcleo</button>
            </div>
            </div>
        </div>
        <div id="delNuc" style="display: none;">
            <div class="form">
                <div class="title">Apagar Núcleo</div>
                <div class="subtitle">Vamos apagar o Núcleo!</div>
                <div class="input-container ic1">
                    <input id="nucIdDel" class="input" type="text" placeholder=" "/>
                    <div class="cut"></div>
                    <label for="nucIdDel" class="placeholder">ID do Núcleo</label>
                </div>
                <button type="text" class="submit" onclick="deleteNucleus()">Apagar Núcleo</button>
            </div>
        </div>
        <div id="nucList" class="list" style="display: none;">
            <h1 class="title" style="text-align: center;">Listar Núcleos</h1>
            <br>
            <h2 class="subtitle" for="listLimitId" style="display: inline;">Núcleos por listagem: &emsp;</h2>
            <select id="listLimitId" style="width: 80px; display: inline;">
                <option value=5>5</option>
                <option value=10>10</option>
                <option value=15>15</option>
                <option value=20>20</option>
            </select>
            <div style="text-align: right;"> <button class="submit" style="background-color: #303245; width: 200px; color: #eee; margin-top: 10px; height: 35px;" onclick="clearListNucleus('listOfNucleus', 'details');">Apagar Lista</button></div>

            <ul id="listOfNucleus"></ul>
            <hr class="rounded">
            <br>
            <div id="details"></div>
            <br>
            <button class="submit" onclick="queryNucleus()">Listar</button>
        </div>
    </div>
    <div class="popup" id="popup" style="">
        <h3>Está prestes a fazer logout</h3>
        <p>Tem a certeza?</p>
        <button type="button" onclick="logout()">Sim</button> &ensp;
        <button type="button" onclick="closePopup()">Não</button>
    </div>
</section>



<script src="/js/functions.js"></script>
<script>
      function changeWindow(btn, btn1, btn2, btn3, div, div1, div2, div3){
        var appear = document.getElementById(div);
        var gone = document.getElementById(div1);
        var gone2 = document.getElementById(div2);
        var gone3 = document.getElementById(div3);
        var button = document.getElementById(btn);
        var button2 = document.getElementById(btn1);
        var button3 = document.getElementById(btn2);
        var button4 = document.getElementById(btn3);

        appear.style.display = 'block';
        gone.style.display = 'none';
        gone2.style.display = 'none';
        gone3.style.display = 'none';
        button.classList.add("active");
        button2.classList.remove("active");
        button3.classList.remove("active");
        button4.classList.remove("active");
      }

      let popup = document.getElementById("popup");

      function openPopup(){
        popup.classList.add("open-popup");
      }

      function closePopup(){
        popup.classList.remove("open-popup");
      }

      let sidebar = document.querySelector(".sidebar");
      let sidebarBtn = document.querySelector(".sidebarBtn");
      sidebarBtn.onclick = function() {
      sidebar.classList.toggle("active");
      if(sidebar.classList.contains("active")){
        sidebarBtn.classList.replace("bx-menu" ,"bx-menu-alt-right");
      }else
        sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
      }

      let mybutton = document.getElementById("myBtn");
      window.onscroll = function() {scrollFunction()};

      function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
      }

      function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
      }
</script>


</body>
</html>