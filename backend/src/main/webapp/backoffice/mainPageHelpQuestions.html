<!DOCTYPE html>
<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title> FAQ FCT NOVA</title>
  <link rel="stylesheet" href="styleMainPage.css">
  <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-storage.js"></script>
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body onload="verifyLogin();loadUpperRightInfo()">
<button onclick="queryUnresFAQ()" id="moreList">Mais <i class='bx bx-question-mark'></i></button>
<button onclick="queryFAQ();" id="moreList2">Mais <i class='bx bx-question-mark'></i></button>
<button onclick="topFunction();" id="myBtn">Topo <i class='bx bx-up-arrow-alt'></i></button>
<button onclick="bottomFunction();" id="myBtnDown">Baixo <i class='bx bx-down-arrow-alt'></i></button>
<div class="sidebar">
  <div class="logo-details">
    <i> <img src="../img/logo.png" alt="UNIVERSE logo" width="45" height="45"> </i>
    <span class="logo_name">UniVerse</span>
  </div>
  <ul class="nav-links">
    <li>
      <button onclick="window.location.href = '/backoffice/mainPage.html'">
        <a href="#">
          <i class='bx bx-grid-alt' ></i>
          <span class="links_name">Home</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageHojeFCT.html'">
        <a href="#hojeFCT">
          <i class='bx bx-info-circle'></i>
          <span class="links_name">Hoje na FCT</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageNews.html'">
        <a href="#news">
          <i class='bx bx-message'></i>
          <span class="links_name">Notícias</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageEvents.html'">
        <a href="#events">
          <i class='bx bx-list-ul' ></i>
          <span class="links_name">Eventos</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageHelpQuestions.html'">
        <a href="#faq" class="active">
          <i class='bx bx-question-mark'></i>
          <span class="links_name">FAQ</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageUsers.html'">
        <a href="#users">
          <i class='bx bx-user' ></i>
          <span class="links_name">Users</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageNucleos.html'">
        <a href="#stats">
          <i class='bx bx-pie-chart-alt-2' ></i>
          <span class="links_name">Núcleos</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageReports.html'">
        <a href="#reports">
          <i class='bx bx-book-alt' ></i>
          <span class="links_name">Reports</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageFeedback.html'">
        <a href="#feedback">
          <i class='bx bx-happy-alt'></i>
          <span class="links_name">FeedBack</span>
        </a>
      </button>
    </li>
    <li>
      <button onclick="window.location.href = '/backoffice/mainPageDepartamentos.html'">
        <a href="#dpt">
          <i class='bx bx-buildings' ></i>
          <span class="links_name">Departamentos</span>
        </a>
      </button>
    </li>
    <li class="log_out">
      <button onclick="openPopup()">
        <a href="#logout">
          <i class='bx bx-log-out'></i>
          <span class="links_name">Log out</span>
        </a>
      </button>
    </li>
  </ul>
</div>
<section class="home-section">
  <nav>
    <div class="sidebar-button">
      <i class='bx bx-menu sidebarBtn'></i>
      <span class="home">FAQ</span>
    </div>
    <h1> Back Office da FCT NOVA</h1>
    <div class="profile-details" id="auxLogged">
      <img id="miniProfilePic" alt="">
      <span class="admin_name" id="name"></span>
    </div>
  </nav>


  <div class="home-content">
    <div class="topnav" id="myTopnav">
      <button id="resFAQ" onClick="changeWindow('resFAQ', 'unResolved', 'resolved', 'resolve', 'unReport', 'reportAll'); auxListMore(0);" class="active">Pergunta Respondida</button>
      <button id="unResolved"  onClick="changeWindow('unResolved', 'resFAQ', 'resolved', 'unReport', 'resolve', 'reportAll'); auxListMore(1);">Listar Perguntas por responder</button>
      <button id="resolved" onClick="changeWindow('resolved', 'resFAQ', 'unResolved', 'reportAll', 'resolve', 'unReport'); auxListMore(2);">Listar todas as Perguntas</button>
    </div>
    <br><br>
    <div id="resolve">
      <div class="form">
        <div class="title">Resolver Pergunta</div>
        <div class="subtitle">Marcar a pergunta como resolvida</div>
        <div class="input-container ic1">
          <input id="idFAQStatus" class="input" type="text" placeholder=" "/>
          <div class="cut"></div>
          <label for="idFAQStatus" class="placeholder">Id da Pergunta</label>
        </div><br>
        <button type="text" class="submit" onclick="faqAnswered();">Marcar como visto</button>
      </div>
    </div>
    <div id="unReport" class="list" style="display: none;">
      <h1 class="title" style="text-align: center;">Listar Perguntas por responder</h1>
      <br>
      <h2 class="subtitle" for="unResListLimitId" style="display: inline;">Perguntas por listagem: &emsp;</h2>
      <select id="unResListLimitId" style="width: 80px; display: inline;">
        <option value=5>5</option>
        <option value=10>10</option>
        <option value=15>15</option>
        <option value=20>20</option>
      </select><br>
      <div style="text-align: right;"> <button class="submit" style="background-color: #303245; width: 200px; color: #eee; margin-top: 10px; height: 35px;" onclick="clearListFAQUnres('listOfUnresFAQS', 'unresDetails');">Apagar Lista</button></div>

      <ul id="listOfUnresFAQS"></ul>
      <hr class="rounded">
      <br>
      <div id="unresDetails"></div>
      <br>
      <button class="submit" onclick="queryUnresFAQ()">Listar</button>
    </div>
    <div id="reportAll" class="list" style="display: none;">
      <h1 class="title" style="text-align: center;">Listar todas as Perguntas</h1>
      <br>
      <h2 class="subtitle" for="listLimitId" style="display: inline;">Perguntas por listagem: &emsp;</h2>
      <select id="listLimitId" style="width: 80px; display: inline;">
        <option value=5>5</option>
        <option value=10>10</option>
        <option value=15>15</option>
        <option value=20>20</option>
      </select><br>
      <div style="text-align: right;"> <button class="submit" style="background-color: #303245; width: 200px; color: #eee; margin-top: 10px; height: 35px;" onclick="clearListFAQ('listOfFAQS', 'details');">Apagar Lista</button></div>

      <ul id="listOfFAQS"></ul>
      <hr class="rounded">
      <br>
      <div id="details"></div>
      <br>
      <button class="submit" onclick="queryFAQ()">Listar</button>
    </div>
  </div>
  <div class="popup" id="popup" style="">
    <h3>Está prestes a fazer logout</h3>
    <p>Tem a certeza?</p>
    <button type="button" onclick="logout()">Sim</button> &ensp;
    <button type="button" onclick="closePopup()">Não</button>
  </div>
</section>

<script src="/js/functions.js"></script>
<script>
      function changeWindow(btn, btn1, btn2, div, div1, div2){
        var appear = document.getElementById(div);
        var gone = document.getElementById(div1);
        var gone2 = document.getElementById(div2);
        var button = document.getElementById(btn);
        var button2 = document.getElementById(btn1);
        var button3 = document.getElementById(btn2);

        appear.style.display = 'block';
        gone.style.display = 'none';
        gone2.style.display = 'none';
        button.classList.add("active");
        button2.classList.remove("active");
        button3.classList.remove("active");
      }

      let popup = document.getElementById("popup");

      function openPopup(){
        popup.classList.add("open-popup");
      }

      function closePopup(){
        popup.classList.remove("open-popup");
      }

      let sidebar = document.querySelector(".sidebar");
      let sidebarBtn = document.querySelector(".sidebarBtn");
      sidebarBtn.onclick = function() {
      sidebar.classList.toggle("active");
      if(sidebar.classList.contains("active")){
        sidebarBtn.classList.replace("bx-menu" ,"bx-menu-alt-right");
      }else
        sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
      }

      let mybutton = document.getElementById("myBtn");
      let mybuttondwn = document.getElementById("myBtnDown");
      let myList = document.getElementById("moreList");
      let myList2 = document.getElementById("moreList2");
      let varAux = 0;
      window.onscroll = function() {scrollFunction()};

      function auxListMore(nr){
        varAux = nr;
      }

      function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
            mybuttondwn.style.display = "block";
            if(varAux == 1){
                myList.style.display = "block";
            }
            else if(varAux == 2){
                myList2.style.display = "block";
            }
        } else {
            mybutton.style.display = "none";
            myList.style.display = "none";
            myList2.style.display = "none";
            mybuttondwn.style.display = "none";
        }
      }

      function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
      }

      function bottomFunction() {
        window.scrollTo(0,document.body.scrollHeight);
        topPage.style.display = '';
      }

</script>


</body>
</html>